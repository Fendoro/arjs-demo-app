<!DOCTYPE>
<script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<body style='margin : 0; overflow: hidden;'>
<a-scene embedded arjs>
    <a-assets id="assets">
    </a-assets>
    <a-marker id="marker" preset='hiro'>
        <a-entity line="start:0 0 0; end: 4 0 0; color: red;" line__2="start:0 0 0; end: 0 4 0; color: green;" line__3="start:0 0 0; end: 0 0 4; color: blue;"></a-entity>
        <a-entity rotation="-90 0 0">
            <a-entity position="0 0.1 0" geometry="primitive: plane; width: 1; height: 0.8" material="shader: flat; color: #f6c038;"></a-entity>
            <a-entity position="-0.1 0 0" geometry="primitive: plane; width: 0.8; height: 1" material="shader: flat; color: #f6c038;"></a-entity>
            <a-entity position="0.3 -0.3 0" rotation="0 0 45" geometry="primitive: plane; width: 0.28284; height: 0.28284" material="shader: flat; color: #f6c038;"></a-entity>
            <a-entity text="value: Features team; align: center; width: 2;"></a-entity>

            <a-entity id="people-list" position="0 0.8 0.2">
            </a-entity>
        </a-entity>
    </a-marker>
    <a-entity id="camera" camera></a-entity>
</a-scene>
<script>
    var columnStep = 0.9
    var rowStep = 0.4
    var peopleList = document.getElementById('people-list')
    var assetsContainer = document.getElementById('assets')
    var people = [
    	[
            {
            	name: 'Evgeniya Polyakova',
                whatIDo: 'Developer',
                img: 'polyakova'
            },
            {
				name: 'Oleg Plotnikov',
				whatIDo: 'Frontend',
				img: 'plotnikov'
            }
        ],
        [
			{
				name: 'Eugene Olisevich',
				whatIDo: 'Frontend developer',
				img: 'olisevich'
			},
			{
				name: 'Anton Kuliapin',
				whatIDo: 'Developer',
				img: 'kulyapin'
			}
        ],
        [
			{
				name: 'Alexander Kataev',
				whatIDo: 'Lead Web Developer',
				img: 'kataev'
			},
			{
				name: 'Aleksandr Orlov',
				whatIDo: '...',
				img: 'orlov'
			},
			{
				name: 'Yuris Rizvanov',
				whatIDo: '...',
				img: 'rizvanov'
			}
        ],
        [
			{
				name: 'Andrey Churakov',
				whatIDo: '...',
				img: 'churakov'
			},
			{
				name: 'Mikhail Belyakov',
				whatIDo: '...',
				img: 'belyakov'
			},
			{
				name: 'Igor Moskalenko',
				whatIDo: 'Server Side Developer',
				img: 'moskalenko'
			}
        ]
    ]
    var firstColumnX = -(people.length - 1) * columnStep / 2

    var listHTML = ''

    for (var colIdx = 0; colIdx < people.length; colIdx++) {
    	var column = people[colIdx]

        var columnHTML = '<a-entity position="' + (firstColumnX + (colIdx * columnStep)) +' 0 0">'

        for (var row = 0; row < column.length; row++) {
    		var person = column[row]

            var personHTML = '<a-entity scale="0.2 0.2 0.2" position="0 -' + (rowStep * row) + ' 0">'

			personHTML +=
                  '<a-image src="#' + person.img + '"></a-image>'
				+ '<a-entity position="0 -0.75 0">'
				    + '<a-entity text="value: ' + person.name + '; align: center; wrapCount: 15; width: 2"></a-entity>'
				+ '</a-entity>'
				+ '<a-entity position="0 -1.1 0">'
				    + '<a-entity text="value: ' + person.whatIDo + '; align: center; wrapCount: 25; width: 2"></a-entity>'
				+ '</a-entity>'

			personHTML += '</a-entity>'

            var asset = new Image()
            asset.id = person.img
            asset.src = "./img/" + person.img + ".png"
			assetsContainer.appendChild(asset)

            columnHTML += personHTML
        }

		columnHTML += '</a-entity>'
        listHTML += columnHTML
    }

    peopleList.innerHTML = listHTML

</script>
</body>