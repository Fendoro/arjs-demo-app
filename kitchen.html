<!DOCTYPE>
<script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

<body style='margin : 0; overflow: hidden;'>
<a-scene id="scene" embedded arjs>
    <a-marker id="marker" preset='hiro'>
        <a-entity line="start:0 0 0; end: 4 0 0; color: red;" line__2="start:0 0 0; end: 0 4 0; color: green;" line__3="start:0 0 0; end: 0 0 4; color: blue;">
            <a-entity rotation="-90 0 0">
                <a-entity scale="0.3 1 1" position="1 -0.6 0" rotation="0 0 -120">
                    <a-entity id="arrow1">
                        <a-triangle color="#CCC"></a-triangle>
                        <a-entity text="value: Light switch; color: black; width: 2" rotation="0 0 90" position="0 0.6 0" scale="1 1.7 1"></a-entity>
                    </a-entity>
                </a-entity>

                <a-entity scale="0.3 1 1" position="0.4 -1 0" rotation="0 0 -160">
                    <a-entity id="arrow2">
                        <a-triangle color="#CCC"></a-triangle>
                        <a-entity text="value: Food\nPrivate is private :)\n_; color: black; width: 2" rotation="0 0 90" position="0 0.6 0" scale="1 1.7 1"></a-entity>
                    </a-entity>
                </a-entity>

                <a-entity scale="0.3 1 1" position="-0.3 -1.05 0" rotation="0 0 -190">
                    <a-entity id="arrow3">
                        <a-triangle color="#CCC"></a-triangle>
                        <a-entity text="value: Coffee beans; color: black; width: 2" rotation="0 0 90" position="0 0.6 0" scale="1 1.7 1"></a-entity>
                    </a-entity>
                </a-entity>

                <a-entity scale="0.3 1 1" position="-0.9 -0.7 0" rotation="0 0 -230">
                    <a-entity id="arrow4">
                        <a-triangle color="#CCC"></a-triangle>
                        <a-entity text="value: Cups; color: black; width: 2" rotation="0 0 90" position="0 0.6 0" scale="1 1.7 1"></a-entity>
                    </a-entity>
                </a-entity>
            </a-entity>
        </a-entity>
    </a-marker>
    <a-entity id="camera" camera></a-entity>
</a-scene>
<script>
    var elements = [
		document.getElementById('arrow1'),
		document.getElementById('arrow2'),
		document.getElementById('arrow3'),
		document.getElementById('arrow4')
    ]

    function animate() {
		// TODO: what for private food?
		var c = 0
        var steps = 25
        var step = 0.003
		var reverse = false
		setInterval(function () {
			if (reverse) {
				c--
			} else {
				c++
			}
			for(var i = 0; i < elements.length; i++) {
				var el = elements[i]
				el.object3D.position.y = el.object3D.position.y + (reverse ? -step : step);
            }

			if (c > steps) {
				c = steps
				reverse = true
			} else if (c < 0) {
				c = 0
				reverse = false
			}
		}, 20)
    }
    animate()

</script>
</body>